<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cálculo Técnico</title>
<style>
body{font-family:Arial;padding:20px;}
input,select,button{width:100%;margin-bottom:10px;padding:8px;}
.result{background:#f2f4f8;padding:15px;margin-top:15px;}
.final{font-size:20px;font-weight:bold;margin-top:10px;}
</style>
</head>
<body>

<h2>Cálculo Técnico</h2>

<label>Largura (m)</label>
<input type="number" id="largura" step="0.01">

<label>Altura (m)</label>
<input type="number" id="altura" step="0.01">

<label>Tipo de Forro</label>
<select id="forro">
<option value="sem">Sem forro</option>
<option value="micro">Microfibra</option>
<option value="70">Blackout 70%</option>
<option value="100">Blackout 100%</option>
</select>

<label>Presilhas (manual)</label>
<input type="number" id="presilhas" value="0">

<label>Instalação</label>
<input type="number" id="instalacao" value="0">

<label>Desconto</label>
<input type="number" id="desconto" value="0">

<button onclick="calcular()">Calcular</button>

<div class="result" id="resultado"></div>

<script>
function calcular(){

let largura = parseFloat(document.getElementById("largura").value);
let altura = parseFloat(document.getElementById("altura").value);
let forro = document.getElementById("forro").value;
let presilhas = parseFloat(document.getElementById("presilhas").value);
let instalacao = parseFloat(document.getElementById("instalacao").value);
let desconto = parseFloat(document.getElementById("desconto").value);

// VALORES FIXOS
let valorGaze = 26;
let valorMicro = 13;
let valor70 = 23;
let valor100 = 31;
let valorEntretela = 1.60;
let valorRodizio = 0.12;
let valorPresilha = 1.60;
let valorTrilho = 15;

// FRANZIMENTO
let fator = (forro === "sem") ? 3.5 : 2;

// ALTURAS
let alturas = Math.ceil((largura * fator) / 3);

// ALTURA REAL
let alturaReal = altura + 0.44;

// CONSUMO GAZE
let metragemGaze = alturas * alturaReal;

// CONSUMO FORRO
let metragemForro = 0;
let valorForroMetro = 0;

if(forro === "micro"){
    metragemForro = alturas * alturaReal;
    valorForroMetro = valorMicro;
}
if(forro === "70"){
    metragemForro = alturas * alturaReal;
    valorForroMetro = valor70;
}
if(forro === "100"){
    metragemForro = alturas * alturaReal;
    valorForroMetro = valor100;
}

// RODÍZIOS
let rodizios = Math.ceil((largura * 100) / 10);
if(forro !== "sem"){
    rodizios = rodizios * 2;
}

// CUSTOS
let custoGaze = metragemGaze * valorGaze;
let custoForro = metragemForro * valorForroMetro;
let custoEntretela = metragemGaze * valorEntretela;
let custoRodizio = rodizios * valorRodizio;
let custoPresilha = presilhas * valorPresilha;
let custoTrilho = largura * valorTrilho;

let custoTecnico = custoGaze + custoForro + custoEntretela + custoRodizio + custoPresilha + custoTrilho;

// VALOR VENDA
let valorVenda = (forro === "sem") ? largura*150 : largura*200;

let valorFinal = valorVenda + instalacao - desconto;

let lucro = valorVenda - custoTecnico;

document.getElementById("resultado").innerHTML = `
Alturas necessárias: ${alturas} <br>
Metragem Gaze: ${metragemGaze.toFixed(2)} m <br>
Metragem Forro: ${metragemForro.toFixed(2)} m <br>
Rodízios: ${rodizios} <br>
<br>
Custo Gaze: R$ ${custoGaze.toFixed(2)} <br>
Custo Forro: R$ ${custoForro.toFixed(2)} <br>
Custo Entretela: R$ ${custoEntretela.toFixed(2)} <br>
Custo Rodízio: R$ ${custoRodizio.toFixed(2)} <br>
Custo Presilha: R$ ${custoPresilha.toFixed(2)} <br>
Custo Trilho: R$ ${custoTrilho.toFixed(2)} <br>
<br>
<b>CUSTO TÉCNICO: R$ ${custoTecnico.toFixed(2)}</b> <br>
<b>LUCRO: R$ ${lucro.toFixed(2)}</b> <br>
<div class="final">VALOR FINAL: R$ ${valorFinal.toFixed(2)}</div>
`;

}
</script>

</body>
</html>

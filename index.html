<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ateliê Patrícia Reis</title>

<style>
body{
font-family:Arial, sans-serif;
background:#f4f4f4;
margin:0;
padding:20px;
}

.container{
max-width:700px;
margin:auto;
background:white;
padding:20px;
border-radius:8px;
box-shadow:0 0 10px rgba(0,0,0,0.1);
}

h1{
text-align:center;
color:#3b5fa0;
}

.tabs{
display:flex;
margin-bottom:20px;
}

.tab{
flex:1;
padding:10px;
background:#ddd;
border:none;
cursor:pointer;
}

.tab.active{
background:#3b5fa0;
color:white;
}

.section{
display:none;
}

.section.active{
display:block;
}

input, select, button{
width:100%;
padding:10px;
margin:8px 0;
}

button{
background:#3b5fa0;
color:white;
border:none;
cursor:pointer;
}

.resultado{
background:#f1f1f1;
padding:15px;
margin-top:15px;
}

.final{
font-size:22px;
font-weight:bold;
margin-top:10px;
}
</style>
</head>

<body>

<div class="container">
<h1>Ateliê Patrícia Reis</h1>

<div class="tabs">
<button class="tab active" onclick="mostrar(0)">Materiais</button>
<button class="tab" onclick="mostrar(1)">Cálculo</button>
<button class="tab" onclick="mostrar(2)">Orçamento</button>
</div>

<div class="section active">

<label>Largura (m)</label>
<input type="number" id="largura" step="0.01">

<label>Altura (m)</label>
<input type="number" id="altura" step="0.01">

<label>Tecido Principal</label>
<select id="tecido">
<option value="gaze">Gaze (R$26)</option>
<option value="microfibra">Microfibra (R$13)</option>
<option value="black70">Blackout 70% (R$23)</option>
<option value="black100">Blackout 100% (R$31)</option>
</select>

<label>Com Forro?</label>
<select id="forro">
<option value="nao">Sem Forro</option>
<option value="sim">Com Forro</option>
</select>

<label>Presilhas (manual)</label>
<input type="number" id="presilhas" value="0">

<label>Instalação</label>
<input type="number" id="instalacao" value="0">

<label>Desconto</label>
<input type="number" id="desconto" value="0">

<button onclick="calcular()">Calcular</button>

</div>

<div class="section">
<div id="calculoResultado"></div>
</div>

<div class="section">
<div id="orcamentoResultado"></div>
</div>

</div>

<script>

function mostrar(i){
let tabs = document.querySelectorAll(".tab");
let sections = document.querySelectorAll(".section");

tabs.forEach(t=>t.classList.remove("active"));
sections.forEach(s=>s.classList.remove("active"));

tabs[i].classList.add("active");
sections[i].classList.add("active");
}

function calcular(){

let largura = parseFloat(document.getElementById("largura").value);
let altura = parseFloat(document.getElementById("altura").value);
let tecido = document.getElementById("tecido").value;
let usarForro = document.getElementById("forro").value;
let presilhas = parseInt(document.getElementById("presilhas").value) || 0;
let instalacao = parseFloat(document.getElementById("instalacao").value) || 0;
let desconto = parseFloat(document.getElementById("desconto").value) || 0;

let larguraRolo = 3;
let fator = (tecido === "gaze") ? 3.5 : 2;

let totalLargura = largura * fator;
let alturas = Math.ceil(totalLargura / larguraRolo);
let metragem = alturas * altura;

let preco = 26;
if(tecido==="microfibra") preco=13;
if(tecido==="black70") preco=23;
if(tecido==="black100") preco=31;

let custoTecido = metragem * preco;

let custoForro = 0;
if(usarForro==="sim"){
custoForro = metragem * 13; 
}

let custoEntretela = (tecido==="gaze") ? metragem * 1.60 : 0;

let rodizios = alturas * 30;
let custoRodizio = rodizios * 0.12;

let custoPresilha = presilhas * 1.60;
let custoTrilho = largura * 15;

let custoTecnico = custoTecido + custoForro + custoEntretela + custoRodizio + custoPresilha + custoTrilho;

let valorVenda = largura * 150;
let lucro = valorVenda - custoTecnico;
let valorFinal = valorVenda + instalacao - desconto;

document.getElementById("calculoResultado").innerHTML = `
Alturas: ${alturas}<br>
Metragem: ${metragem.toFixed(2)} m<br>
Rodízios: ${rodizios}<br><br>

Custo Tecido: R$ ${custoTecido.toFixed(2)}<br>
Custo Forro: R$ ${custoForro.toFixed(2)}<br>
Custo Entretela: R$ ${custoEntretela.toFixed(2)}<br>
Custo Rodízio: R$ ${custoRodizio.toFixed(2)}<br>
Custo Presilha: R$ ${custoPresilha.toFixed(2)}<br>
Custo Trilho: R$ ${custoTrilho.toFixed(2)}<br><br>

<b>CUSTO TÉCNICO: R$ ${custoTecnico.toFixed(2)}</b><br>
Lucro: R$ ${lucro.toFixed(2)}<br>
`;

document.getElementById("orcamentoResultado").innerHTML = `
<div class="final">
VALOR FINAL: R$ ${valorFinal.toFixed(2)}
</div>
Instalação: R$ ${instalacao.toFixed(2)}
`;

}
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BP Confecções - Orçamento</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#ffffff;
    margin:0;
    padding:20px;
}
.container{
    max-width:500px;
    margin:auto;
}
h2{
    text-align:center;
}
input, select, button{
    width:100%;
    padding:10px;
    margin-bottom:10px;
    border:1px solid #ccc;
    border-radius:6px;
}
button{
    background:#1f3c88;
    color:white;
    font-weight:bold;
}
.result{
    background:#f4f6fb;
    padding:15px;
    border-radius:8px;
    margin-top:15px;
}
.final{
    font-size:22px;
    font-weight:bold;
    margin-top:15px;
}
</style>
</head>

<body>

<div class="container">
<h2>BP Confecções</h2>

<label>Largura (m)</label>
<input type="number" id="largura" step="0.01">

<label>Altura (m)</label>
<input type="number" id="altura" step="0.01">

<label>Tipo</label>
<select id="tipo">
<option value="sem">Sem forro</option>
<option value="com">Com forro</option>
</select>

<label>Valor metro linear SEM forro</label>
<input type="number" id="valorSem" value="150">

<label>Valor metro linear COM forro</label>
<input type="number" id="valorCom" value="200">

<label>Valor instalação</label>
<input type="number" id="instalacao" value="0">

<label>Desconto</label>
<input type="number" id="desconto" value="0">

<button onclick="calcular()">Calcular</button>

<div class="result" id="resultado" style="display:none;"></div>

</div>

<script>
function calcular(){

let largura = parseFloat(document.getElementById("largura").value);
let altura = parseFloat(document.getElementById("altura").value);
let tipo = document.getElementById("tipo").value;
let valorSem = parseFloat(document.getElementById("valorSem").value);
let valorCom = parseFloat(document.getElementById("valorCom").value);
let instalacao = parseFloat(document.getElementById("instalacao").value);
let desconto = parseFloat(document.getElementById("desconto").value);

if(!largura || !altura){
    alert("Preencha largura e altura");
    return;
}

// ===== CÁLCULO TÉCNICO =====

// Alturas necessárias
let alturas = Math.ceil((largura * 3.5) / 3);

// Consumo tecido principal
let alturaReal = altura + 0.12 + 0.32;
let consumoPrincipal = alturas * alturaReal;

// Forro
let consumoForro = 0;
if(tipo === "com"){
    consumoForro = (largura * 2) * alturaReal;
}

// Rodízios
let rodizios = Math.ceil((largura * 100) / 10);
if(tipo === "com"){
    rodizios = rodizios * 2;
}

// Entretela e presilha entram no custo técnico (simples exemplo fixo)
let custoEntretela = consumoPrincipal * 5;
let custoPresilha = rodizios * 0.5;

// Mão de obra estimada
let maoObra = largura * 50;

// Custo técnico total
let custoTecnico = consumoPrincipal*30 + consumoForro*25 + custoEntretela + custoPresilha + maoObra;

// ===== VALOR DE VENDA FIXO =====
let valorVenda = 0;

if(tipo === "sem"){
    valorVenda = largura * valorSem;
}else{
    valorVenda = largura * valorCom;
}

// Valor final
let valorFinal = valorVenda + instalacao - desconto;

// Lucro
let lucro = valorVenda - custoTecnico;

// Mostrar resultado
let resultado = document.getElementById("resultado");
resultado.style.display = "block";
resultado.innerHTML = `
<b>Cálculo Técnico:</b><br>
Alturas necessárias: ${alturas} un<br>
Rodízios: ${rodizios} un<br>
Custo técnico estimado: R$ ${custoTecnico.toFixed(2)}<br>
Lucro estimado: R$ ${lucro.toFixed(2)}<br>

<div class="final">
VALOR FINAL: R$ ${valorFinal.toFixed(2)}
</div>
`;

}
</script>

</body>
</html>

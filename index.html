<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ateliê Patrícia Reis</title>

<style>
body{font-family:Arial;background:#f4f4f4;padding:20px;}
.container{max-width:600px;margin:auto;background:white;padding:20px;border-radius:8px;}
h1{text-align:center;color:#3b5fa0;}
input,select,button{width:100%;padding:10px;margin:8px 0;}
button{background:#3b5fa0;color:white;border:none;}
.resultado{background:#f1f1f1;padding:15px;margin-top:15px;}
.final{font-size:20px;font-weight:bold;margin-top:10px;}
.hidden{display:none;}
</style>
</head>

<body>

<div class="container">
<h1>Cálculo Técnico</h1>

<label>Largura (m)</label>
<input type="number" id="largura" step="0.01">

<label>Altura (m)</label>
<input type="number" id="altura" step="0.01">

<label>Tipo de Cortina</label>
<select id="tipoCortina" onchange="mostrarForro()">
<option value="gaze">Apenas Gaze</option>
<option value="gazeForro">Gaze + Forro</option>
</select>

<div id="forroBox" class="hidden">
<label>Tipo de Forro</label>
<select id="tipoForro">
<option value="micro">Microfibra (R$13)</option>
<option value="black70">Blackout 70% (R$23)</option>
<option value="black100">Blackout 100% (R$31)</option>
</select>
</div>

<label>Presilhas (manual)</label>
<input type="number" id="presilhas" value="0">

<label>Instalação</label>
<input type="number" id="instalacao" value="0">

<label>Desconto</label>
<input type="number" id="desconto" value="0">

<button onclick="calcular()">Calcular</button>

<div id="resultado" class="resultado"></div>

</div>

<script>

function mostrarForro(){
let tipo = document.getElementById("tipoCortina").value;
let box = document.getElementById("forroBox");
if(tipo === "gazeForro"){
box.classList.remove("hidden");
}else{
box.classList.add("hidden");
}
}

function calcular(){

let largura = parseFloat(document.getElementById("largura").value);
let altura = parseFloat(document.getElementById("altura").value);
let tipoCortina = document.getElementById("tipoCortina").value;
let tipoForro = document.getElementById("tipoForro")?.value;
let presilhas = parseInt(document.getElementById("presilhas").value) || 0;
let instalacao = parseFloat(document.getElementById("instalacao").value) || 0;
let desconto = parseFloat(document.getElementById("desconto").value) || 0;

let larguraRolo = 3;
let alturaReal = altura + 0.44;

// ===== GAZE =====
let alturasGaze = Math.ceil((largura * 3.5) / larguraRolo);
let metragemGaze = alturasGaze * alturaReal;
let custoGaze = metragemGaze * 26;
let custoEntretela = metragemGaze * 1.60;

// ===== FORRO =====
let alturasForro = 0;
let metragemForro = 0;
let custoForro = 0;

if(tipoCortina === "gazeForro"){
alturasForro = Math.ceil((largura * 2) / larguraRolo);
metragemForro = alturasForro * alturaReal;

let valorForro = 13;
if(tipoForro === "black70") valorForro = 23;
if(tipoForro === "black100") valorForro = 31;

custoForro = metragemForro * valorForro;
}

// ===== RODÍZIOS =====
let rodizios = Math.ceil((largura * 100) / 10);
if(tipoCortina === "gazeForro"){
rodizios *= 2;
}
let custoRodizio = rodizios * 0.12;

// ===== OUTROS =====
let custoPresilha = presilhas * 1.60;
let custoTrilho = largura * 15;

// ===== TOTAL =====
let custoTecnico = custoGaze + custoEntretela + custoForro + custoRodizio + custoPresilha + custoTrilho;

let valorVenda = (tipoCortina === "gazeForro") ? largura * 200 : largura * 150;
let lucro = valorVenda - custoTecnico;
let valorFinal = valorVenda + instalacao - desconto;

document.getElementById("resultado").innerHTML = `
<b>GAZE</b><br>
Alturas: ${alturasGaze}<br>
Metragem: ${metragemGaze.toFixed(2)} m<br><br>

<b>FORRO</b><br>
Alturas: ${alturasForro}<br>
Metragem: ${metragemForro.toFixed(2)} m<br><br>

Rodízios: ${rodizios}<br><br>

<b>CUSTO TÉCNICO:</b> R$ ${custoTecnico.toFixed(2)}<br>
Lucro: R$ ${lucro.toFixed(2)}<br>
<div class="final">VALOR FINAL: R$ ${valorFinal.toFixed(2)}</div>
`;

}

</script>

</body>
</html>

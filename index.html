<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ateliê Patrícia Reis</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#ffffff;
    margin:0;
    padding:20px;
}
.container{
    max-width:700px;
    margin:auto;
}
.logo{
    text-align:center;
    margin-bottom:20px;
}
.logo img{
    max-width:250px;
}
.tabs{
    display:flex;
    margin-bottom:20px;
}
.tabs button{
    flex:1;
    padding:12px;
    border:none;
    cursor:pointer;
    background:#ddd;
    font-weight:bold;
}
.tabs button.active{
    background:#3b5fa0;
    color:white;
}
.tab-content{
    display:none;
}
.tab-content.active{
    display:block;
}
input, select{
    width:100%;
    padding:10px;
    margin:6px 0 15px;
    border-radius:6px;
    border:1px solid #ccc;
}
button.calcular{
    width:100%;
    padding:12px;
    background:#3b5fa0;
    color:white;
    border:none;
    border-radius:8px;
    font-size:16px;
    cursor:pointer;
}
.resultado{
    background:#f3f3f3;
    padding:15px;
    border-radius:10px;
    margin-top:15px;
}
</style>
</head>

<body>
<div class="container">

<div class="logo">
<img src="logo.png">
</div>

<div class="tabs">
<button id="btnTec" onclick="abrirAba('tecnico','btnTec')" class="active">TÉCNICO</button>
<button id="btnMat" onclick="abrirAba('materiais','btnMat')">MATERIAIS</button>
<button id="btnOrc" onclick="abrirAba('orcamento','btnOrc')">ORÇAMENTO</button>
</div>

<div id="tecnico" class="tab-content active">

<h3>Dados da Cortina</h3>

<label>Largura (m)</label>
<input id="largura" type="number" step="0.01">

<label>Altura (m)</label>
<input id="altura" type="number" step="0.01">

<label>Tamanho da Barra (m)</label>
<input id="barra" type="number" step="0.01" value="0.32">

<label>Modelo</label>
<select id="modelo">
<option value="gaze">Só Gaze</option>
<option value="gazeForro">Gaze + Forro</option>
</select>

<label>Tipo de Forro</label>
<select id="tipoForro">
<option value="13">Microfibra (R$13)</option>
<option value="23">Blackout 70% (R$23)</option>
<option value="31">Blackout 100% (R$31)</option>
</select>

<label>Presilhas (un)</label>
<input id="presilha" type="number">

<label>Instalação (R$)</label>
<input id="instalacao" type="number">

<label>Mão de obra (R$ por metro linear)</label>
<input id="maoObra" type="number">

<button class="calcular" onclick="calcular()">Calcular</button>

<div id="resultadoTecnico" class="resultado"></div>

</div>

<div id="materiais" class="tab-content">
<div id="resultadoMateriais" class="resultado"></div>
</div>

<div id="orcamento" class="tab-content">

<label>Nome do Cliente</label>
<input id="cliente">

<label>Condições de pagamento</label>
<input id="pagamento">

<button class="calcular" onclick="gerarPDF()">Gerar PDF</button>

<div id="valorFinalOrc" class="resultado"></div>

</div>

</div>

<script>

let valorFinalGlobal = 0;

function abrirAba(id, botao){
document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
document.querySelectorAll('.tabs button').forEach(b=>b.classList.remove('active'));
document.getElementById(id).classList.add('active');
document.getElementById(botao).classList.add('active');
}

function calcular(){

const largura = parseFloat(document.getElementById("largura").value) || 0;
const altura = parseFloat(document.getElementById("altura").value) || 0;
const barra = parseFloat(document.getElementById("barra").value) || 0;
const modelo = document.getElementById("modelo").value;
const valorForroMetro = parseFloat(document.getElementById("tipoForro").value) || 0;
const presilhaQtd = parseInt(document.getElementById("presilha").value) || 0;
const instalacao = parseFloat(document.getElementById("instalacao").value) || 0;
const maoObraMetro = parseFloat(document.getElementById("maoObra").value) || 0;

const cabecalho = 0.12;
const larguraTecido = 3;

const alturaTotal = altura + cabecalho + barra;

const alturasGaze = Math.ceil((largura * 3.5) / larguraTecido);
const metrosGaze = alturasGaze * alturaTotal;

let alturasForro = 0;
let metrosForro = 0;

if(modelo === "gazeForro"){
alturasForro = Math.ceil((largura * 2) / larguraTecido);
metrosForro = alturasForro * alturaTotal;
}

const rodizios = Math.ceil(largura * 20);

const custoGaze = metrosGaze * 26;
const custoForro = metrosForro * valorForroMetro;
const custoEntretela = metrosGaze * 1.60;
const custoRodizio = rodizios * 0.12;
const custoPresilha = presilhaQtd * 1.60;
const custoTrilho = largura * 15;

const custoMateriais = custoGaze + custoForro + custoEntretela + custoRodizio + custoPresilha + custoTrilho;

const lucro = (largura * maoObraMetro) + instalacao;

valorFinalGlobal = custoMateriais + lucro;

document.getElementById("resultadoTecnico").innerHTML = `
<b>GAZE:</b><br>
Alturas: ${alturasGaze}<br>
Metragem: ${metrosGaze.toFixed(2)} m<br><br>

<b>FORRO:</b><br>
Alturas: ${alturasForro}<br>
Metragem: ${metrosForro.toFixed(2)} m<br><br>

<b>CUSTO MATERIAIS:</b> R$ ${custoMateriais.toFixed(2)}<br>
<b>SEU LUCRO:</b> R$ ${lucro.toFixed(2)}<br><br>

<b>VALOR FINAL:</b> R$ ${valorFinalGlobal.toFixed(2)}
`;

document.getElementById("resultadoMateriais").innerHTML = `
Gaze: ${metrosGaze.toFixed(2)} m<br>
Forro: ${metrosForro.toFixed(2)} m<br>
Entretela: ${metrosGaze.toFixed(2)} m<br>
Rodízios: ${rodizios} un<br>
Presilhas: ${presilhaQtd} un<br>
Trilho: ${largura} m
`;

document.getElementById("valorFinalOrc").innerHTML = `
<b>Valor Final: R$ ${valorFinalGlobal.toFixed(2)}</b>
`;
}

function gerarPDF(){
window.print();
}

</script>

</body>
</html>

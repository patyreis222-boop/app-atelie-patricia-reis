<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ateliê Patrícia Reis</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
font-family: Arial, sans-serif;
background:#ffffff;
margin:0;
padding:20px;
color:#2f3e55;
}

h1{
text-align:center;
color:#3f5f86;
}

.container{
max-width:600px;
margin:auto;
}

input, select{
width:100%;
padding:10px;
margin-bottom:10px;
border:1px solid #ccc;
border-radius:5px;
}

button{
width:100%;
padding:12px;
background:#3f5f86;
color:white;
border:none;
border-radius:6px;
font-weight:bold;
cursor:pointer;
}

.resultado{
background:#f3f5f8;
padding:15px;
margin-top:15px;
border-radius:8px;
}
</style>
</head>

<body>

<div class="container">

<h1>ATELIÊ PATRÍCIA REIS</h1>

<label>Largura da cortina (m)</label>
<input id="largura" type="number" step="0.01">

<label>Altura da cortina (m)</label>
<input id="altura" type="number" step="0.01">

<label>Tamanho da Barra (m)</label>
<input id="barra" type="number" step="0.01">

<label>Modelo</label>
<select id="modelo">
<option>Prega Macho</option>
<option>Prega Americana</option>
<option>Wave</option>
<option>Franzido</option>
<option>Ilhós</option>
</select>

<label>Tipo de Forro</label>
<select id="tipoForro">
<option value="31">Blackout 100%</option>
<option value="23">Blackout 70%</option>
<option value="13">Microfibra</option>
</select>

<label>Presilhas (un)</label>
<input id="presilhas" type="number">

<label>Instalação (R$)</label>
<input id="instalacao" type="number">

<label>Mão de obra (R$ por metro linear)</label>
<input id="maoObra" type="number">

<button onclick="calcular()">Calcular</button>

<div class="resultado" id="resultado"></div>

<br>
<hr>

<h3>ORÇAMENTO</h3>

<input id="cliente" placeholder="Nome do Cliente">

<button onclick="gerarPDF()">Gerar PDF</button>

</div>

<script>

function calcular(){

const largura = parseFloat(document.getElementById("largura").value);
const altura = parseFloat(document.getElementById("altura").value);
const barra = parseFloat(document.getElementById("barra").value);
const modelo = document.getElementById("modelo").value;
const tipoForro = parseFloat(document.getElementById("tipoForro").value);
const presilhas = parseInt(document.getElementById("presilhas").value) || 0;
const instalacao = parseFloat(document.getElementById("instalacao").value) || 0;
const maoObra = parseFloat(document.getElementById("maoObra").value) || 0;

const cabecalho = 0.12;
const larguraTecido = 3;

const alturaFinal = altura + cabecalho + barra;

const alturasGaze = Math.ceil((largura*3.5)/larguraTecido);
const alturasForro = Math.ceil((largura*2)/larguraTecido);

const metragemGaze = alturasGaze * alturaFinal;
const metragemForro = alturasForro * alturaFinal;
const metragemEntretela = metragemGaze;

const rodizios = Math.round(largura * 20);

const custoGaze = metragemGaze * 26;
const custoForro = metragemForro * tipoForro;
const custoEntretela = metragemEntretela * 1.60;
const custoRodizios = rodizios * 0.12;
const custoPresilhas = presilhas * 1.60;
const custoTrilho = largura * 15;

const custoMateriais = custoGaze + custoForro + custoEntretela + custoRodizios + custoPresilhas + custoTrilho;

const lucro = (maoObra * largura) + instalacao;

const valorFinal = custoMateriais + lucro;

document.getElementById("resultado").innerHTML = `
<b>Modelo:</b> ${modelo}<br><br>

<b>GAZE</b><br>
Metragem: ${metragemGaze.toFixed(2)} m<br>
Custo: R$ ${custoGaze.toFixed(2)}<br><br>

<b>FORRO</b><br>
Metragem: ${metragemForro.toFixed(2)} m<br>
Custo: R$ ${custoForro.toFixed(2)}<br><br>

<b>ENTRETELA</b><br>
${metragemEntretela.toFixed(2)} m — R$ ${custoEntretela.toFixed(2)}<br><br>

Rodízios: ${rodizios} un — R$ ${custoRodizios.toFixed(2)}<br>
Presilhas: ${presilhas} un — R$ ${custoPresilhas.toFixed(2)}<br>
Trilho: ${largura} m — R$ ${custoTrilho.toFixed(2)}<br><br>

<b>Custo Materiais:</b> R$ ${custoMateriais.toFixed(2)}<br>
<b>Seu Lucro:</b> R$ ${lucro.toFixed(2)}<br><br>

<h2>VALOR FINAL: R$ ${valorFinal.toFixed(2)}</h2>
`;

window.valorFinalPDF = valorFinal.toFixed(2);
window.modeloPDF = modelo;
window.larguraPDF = largura;
window.alturaPDF = altura;
window.barraPDF = barra;
}

function gerarPDF(){

const { jsPDF } = window.jspdf;
const doc = new jsPDF();

const cliente = document.getElementById("cliente").value;
const data = new Date().toLocaleDateString();

doc.setFontSize(18);
doc.text("ATELIÊ PATRÍCIA REIS", 105, 20, {align:"center"});

doc.setFontSize(12);
doc.text(`Cliente: ${cliente}`, 20, 40);
doc.text(`Data: ${data}`, 20, 48);

doc.text(`Modelo: ${window.modeloPDF}`, 20, 65);
doc.text(`Largura: ${window.larguraPDF} m`, 20, 73);
doc.text(`Altura: ${window.alturaPDF} m`, 20, 81);
doc.text(`Barra: ${window.barraPDF} m`, 20, 89);

doc.text("Condições:", 20, 105);
doc.text("60% de entrada e 40% na entrega.", 20, 113);
doc.text("Validade da proposta: 7 dias.", 20, 121);
doc.text("Prazo: até 15 dias úteis após confirmação.", 20, 129);

doc.setFontSize(16);
doc.text(`VALOR TOTAL: R$ ${window.valorFinalPDF}`, 105, 150, {align:"center"});

doc.setFontSize(10);
doc.text("Telefone: (16) 99428-4571", 20, 270);
doc.text("Instagram: @ateliepatriciareiss", 20, 276);

doc.save("Orcamento_Atelie_Patricia_Reis.pdf");
}

</script>

</body>
</html>
